"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[44927],{966224:(e,t,r)=>{r.d(t,{Z:()=>i});var s=r(883119),a=r(898781),o=r(785893);function i({accessibilityLabel:e,fixedPosition:t,rounding:r}){let i=(0,a.ZP)();return(0,o.jsxs)(s.xu,{children:[(0,o.jsx)(s.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,opacity:1,position:t?"fixed":"absolute",right:!0,top:!0,zIndex:new s.Ry(101),children:(0,o.jsx)(s.$j,{accessibilityLabel:e||i._('Loading', 'Label for loading spinner', 'Label for loading spinner'),show:!0})}),(0,o.jsx)(s.xu,{bottom:!0,color:"default",left:!0,opacity:.7,position:t?"fixed":"absolute",right:!0,rounding:r,top:!0,zIndex:new s.Ry(100)})]})}},407043:(e,t,r)=>{r.d(t,{B:()=>l,v:()=>n});var s=r(385740),a=r(425288),o=r(785893);let{Provider:i,useHook:n}=(0,a.Z)("ContextLogger");function l({children:e,value:t}){let{setViewContextData:r}=(0,s.sV)();return t.injectSetViewContextDataFromHook=r,(0,o.jsx)(i,{value:t,children:e})}},425288:(e,t,r)=>{r.d(t,{Z:()=>o});var s=r(667294);function a(e,t){let r="consumer"===t?`${e}Consumer`:`use${e}`;return`
  ${r} must be used within a ${e}Provider.
  Please see https://pdocs.pinadmin.com/docs/webapp/docs/testing-jest#createhydra-errors for more information.
  `}function o(e,t){let r=(0,s.createContext)(t),{messageDisplayName:o}=function(e,t){let r=e.slice(1);if(r=r.endsWith("Context")?r:`${r}Context`,t){let s=`with${e[0].toUpperCase()}${r}(${t})`;return{hocDisplayName:s}}let s=`${e[0].toLowerCase()}${r}`,a=`${e[0].toUpperCase()}${r}`;return{propsDisplayName:s,messageDisplayName:a}}(e);r.displayName=o;let{Provider:i}=r,n=({children:e})=>{let t=(0,s.useContext)(r);if(void 0===t)throw Error(a(o,"consumer"));return e(t)},l=()=>(0,s.useContext)(r);return i.displayName=`${o}Provider`,n.displayName=`${o}Consumer`,{Provider:i,Consumer:n,MaybeConsumer:({children:e})=>{let t=(0,s.useContext)(r);return e(t)},useMaybeHook:l,useHook:function(){let e=l();if(void 0===e)throw Error(a(o,"hook"));return e}}}},320415:(e,t,r)=>{r.d(t,{Z:()=>h});var s=r(667294),a=r(702664),o=r(112690),i=r(332611),n=r(214494);let l=(e,t,r,s)=>(a,o)=>l=>{if(a&&a.id){let c=n.Z.create(e,{placed_experience_id:a.id,extra_context:{}});switch(t){case"dismissed":c.callDelete().then(()=>{l((0,i.fO)()),r&&s&&r({event_type:s,object_id_str:a.id.toString()})});break;case"completed":c.callUpdate().then(()=>{o||l((0,i.fO)()),r&&s&&r({event_type:s,object_id_str:a.id.toString()})});break;case"viewed":c.callUpdate().then(()=>{r&&s&&r({event_type:s,object_id_str:a.id.toString()})})}}},c=e=>l("UserExperienceCompletedResource","completed",e,6567),d=l("UserExperienceResource","dismissed"),u=e=>l("UserExperienceViewedResource","viewed",e,4503);var p=r(785893);function _(e,t,r){var s;return(t="symbol"==typeof(s=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?s:String(s))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class m extends s.Component{constructor(...e){super(...e),_(this,"state",{hasCompleted:[],hasDismissed:[]}),_(this,"view",()=>{let{experience:e,isBackendExperience:t,targeting:r,viewExperience:s,viewExperienceObject:a}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",a(e)):r?s(e.placement_id,e.experience_id,r):s(e.placement_id,e.experience_id))}),_(this,"complete",e=>{let{completeExperience:t,completeExperienceObject:r,experience:s,isBackendExperience:a,preventRemoval:o,targeting:i}=this.props,n=e||1;if(s&&!this.state.hasCompleted.includes(s.experience_id)){let{placement_id:e,experience_id:l}=s||{},c=o||2===n;(1===n||c)&&e&&l&&(a?r(s,c):i?t(e,l,c,i):t(e,l,c),this.setState(e=>({hasCompleted:[...e.hasCompleted,l]})))}}),_(this,"dismiss",()=>{let{dismissExperience:e,dismissExperienceObject:t,experience:r,isBackendExperience:s,preventRemoval:a,targeting:o}=this.props,{placement_id:i,experience_id:n}=r||{};r&&!this.state.hasDismissed.includes(n)&&(s?t(r):o?e(i,n,!!a,o):e(i,n,!!a),this.setState(e=>({hasDismissed:[...e.hasDismissed,n]})))}),_(this,"isEligibleExperience",()=>{let{experience:e}=this.props;if(!e)return!1;let{eligibleIds:t,eligibleTypes:r,predicate:s,transitionType:a}=this.props,{experience_id:o,type:i}=e;return t&&t.length?t.includes(o):r&&r.length?r.includes(i):s?s(e):!a||a===i})}componentDidMount(){if(this.props.disableAutoView)return;let{experience:e}=this.props;e&&this.isEligibleExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;let t=e.experience,r=this.props.experience;r&&this.isEligibleExperience()&&(t&&t.experience_id===r.experience_id||this.view())}render(){let{children:e,experience:t,disableAutoView:r}=this.props;return t&&this.isEligibleExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...r?{view:this.view}:Object.freeze({})}):s.Children.only(e):null}}function h(e){let t=(0,a.useSelector)(({experiences:t})=>e.experience||(e.placementId?t[e.placementId]:void 0)),r=(0,a.useDispatch)(),s=(0,i.be)(),n=(0,i.Am)(),l=(0,i.Ig)(),_=(0,o.Z)();return(0,p.jsx)(m,{...e,completeExperience:(e,t,a,o)=>r(s(e,t,a,!1,{},o)),completeExperienceObject:(e,t)=>r(c(_)(e,t)),dismissExperience:(e,t,s,a)=>r(n(e,t,s,void 0,a)),dismissExperienceObject:e=>r(d(e)),experience:t,viewExperience:(e,t,s)=>r(l(e,t,!1,!1,void 0,s)),viewExperienceObject:e=>r(u(_)(e))})}_(m,"defaultProps",{eligibleIds:[],eligibleTypes:[]})},123159:(e,t,r)=>{r.d(t,{F:()=>p,M:()=>u});var s=r(667294),a=r(702664),o=r(14890),i=r(425288),n=r(332611),l=r(957191),c=r(785893);let{Provider:d,useHook:u}=(0,i.Z)("ExperienceContext");function p({children:e}){let[t,r]=(0,s.useReducer)((e,t)=>{if("MOUNT_PLACEMENT"===t.type)return{...e,mountedPlacements:{...e.mountedPlacements,[t.payload]:!0}};if("UNMOUNT_PLACEMENT"===t.type){let r={...e};return delete r.mountedPlacements[t.payload],delete r.registerdAfterActionPlacements[t.payload],r}return"REGISTER_AFTER_ACTION_PLACEMENT"===t.type?{...e,registerdAfterActionPlacements:{...e.registerdAfterActionPlacements,[t.payload]:!0}}:e},{mountedPlacements:{},registerdAfterActionPlacements:{}}),{mountedPlacements:i,registerdAfterActionPlacements:u}=t,p=(0,a.useDispatch)(),_=(0,a.useSelector)(e=>e.experiences),m=(0,n.be)(),h=(0,n.Am)(),g=(0,n.Ig)(),f=(0,s.useMemo)(()=>{let e=(0,o.bindActionCreators)({completeExperience:m,dismissExperience:h,fetchAllExperiences:n.fO,fetchAllExperiencesMulti:l.NW,fetchExperienceForPlacements:n.pz,mountPlacement:n.N,triggerExperimentsForPlacement:n.kd,viewExperience:g},p);return{...e,mountPlacement:(t,...s)=>{e.mountPlacement(t,...s),r({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:e=>{r({type:"UNMOUNT_PLACEMENT",payload:e})},registerAfterActionPlacement:e=>{r({type:"REGISTER_AFTER_ACTION_PLACEMENT",payload:e})}}},[m,h,p,r,g]),R=(0,s.useMemo)(()=>({experiences:_,mountedPlacements:i,registerdAfterActionPlacements:u,...f}),[_,i,u,f]);return(0,c.jsx)(d,{value:R,children:e})}},332611:(e,t,r)=>{let s;r.d(t,{Am:()=>f,Ig:()=>h,N:()=>P,Sd:()=>R,YX:()=>v,be:()=>g,fO:()=>p,kd:()=>y,pz:()=>_});var a=r(667294),o=r(214494),i=r(112690),n=r(764990),l=r(957191),c=r(186656),d=r(67347);let u=(e,t,r={})=>(0,d.nP)(`${e}.${t}`,{sampleRate:1,tags:r}),p=(e,t)=>r=>{let s=t?{extra_context:e,targeting:t}:{extra_context:e};return o.Z.create("UserExperiencePlatformResource",s).callGet().then(e=>e.resource_response?r((0,l.OD)(e.resource_response.data)):void 0)},_=(e,t,r,a)=>(i,c)=>{if(t)return Promise.resolve();if(a&&(s=a),1===e.length){let t=e[0],s=c().experiences,a=s[t],o=a?.extraContext||null;if(JSON.stringify(o)===JSON.stringify(r)||(0,n.E3)(a)&&!(r&&Object.keys(r).length>0))return Promise.resolve()}return o.Z.create("UserExperienceResource",{placement_ids:e,extra_context:r||null,targeting:a}).callGet().then(e=>e.resource_response?i((0,l.cL)(e.resource_response.data)):void 0)},m=(e,t,r,a)=>(i,n,c,d=!1,u,_)=>(m,h)=>{let{experiences:g,experiencesMulti:f}=h(),R=null,y=!0;if(d||(R=(y=g[i]&&g[i].experience_id===n)?g[i]:Array.isArray(f[i])&&f[i]?.find(e=>e.experience_id===n)),R&&R.experience_id===n||d&&i&&n){let d=o.Z.create(e,{placed_experience_id:`${i}%3A${n}`,extra_context:u??{},targeting:_}),h=y?l.Yb:l.xW;switch(t){case"dismissed":return d.callDelete().then(()=>{m(h(i,n,t)),m(p(void 0,s)),r&&a&&r({event_type:a,object_id_str:n.toString()})});case"completed":return d.callUpdate().then(()=>{!c&&(m(h(i,n,t)),m(p(void 0,s)),r&&a&&r({event_type:a,object_id_str:n.toString()}))});case"viewed":return m(h(i,n,t)),d.callUpdate().then(()=>{1000162===i&&m(p()),r&&a&&r({event_type:a,object_id_str:n.toString()})});case"completedWithoutHomefeed":return d.callUpdate().then(()=>{c||m(h(i,n,t)),r&&a&&r({event_type:a,object_id_str:n.toString()})})}}return Promise.resolve()},h=()=>{let e=(0,i.Z)(),t=(0,a.useCallback)(m("UserExperienceViewedResource","viewed",e,4503),[e]);return t},g=()=>{let e=(0,i.Z)(),t=(0,a.useCallback)(m("UserExperienceCompletedResource","completed",e,6567),[e]);return t},f=()=>{let e=(0,i.Z)(),t=(0,a.useCallback)(m("UserExperienceResource","dismissed",e,6568),[e]);return t},R=()=>{let e=(0,i.Z)(),t=(0,a.useCallback)(m("UserExperienceCompletedResource","completedWithoutHomefeed",e,6567),[e]);return t},y=(e,t)=>(r,s)=>{let{experiences:a}=s(),o=a[e];o&&o.triggerable_placed_exps&&o.triggerable_placed_exps.length&&o.triggerable_placed_exps.forEach(r=>{let[,s]=r.split(":"),a=t;o.metadata&&o.metadata[s]&&(a={...t,...o.metadata[s]}),(0,c.Z)({url:`/v3/experiences/${r.replace(":","%3A")}/trigger/`,method:"PUT",data:a?{extra_context:JSON.stringify(a,null,1)}:{}}).then(()=>{u("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:s})})})},v=e=>(t,r)=>{t(y(e));let{experiences:s}=r();return s[e]},P=(e,t,r)=>a=>{r&&(s=r),a(y(e,t)),t&&Object.keys(t).length>0&&a(_([e],!1,t,r))}},764990:(e,t,r)=>{r.d(t,{A0:()=>l,E3:()=>i,MQ:()=>n,fL:()=>c});var s=r(883119),a=r(149230),o=r(785893);function i(e){return!!e&&0!==e.type}let n=(e,t,r)=>{let s=e[r];return t[r]&&i(s)?s:null};function l(e){return e.display_data?.anchor}let c=e=>{let t=new DOMParser,r=t.parseFromString(e,"text/html"),i=[...r.body?.childNodes||[]].map(e=>{if("A"!==e.nodeName)return(0,o.jsx)(s.xv,{inline:!0,children:e.textContent});{let t=e.href||"",r=(0,a.Z)({url:t});return(0,o.jsx)(s.rU,{display:"inline",externalLinkIcon:r?"default":"none",href:t,rel:r?"nofollow":"none",target:"blank",children:e.textContent})}});return(0,o.jsx)(s.xv,{inline:!0,children:i})}},207737:(e,t,r)=>{r.d(t,{$S:()=>s,V$:()=>a,_4:()=>i,iY:()=>n,mR:()=>o});let s="REFRESH_ALL_EXPERIENCES_MULTI",a="UPDATE_EXPERIENCE_MULTI",o="FETCH_EXPERIENCES",i="REFRESH_ALL_EXPERIENCES",n="UPDATE_EXPERIENCE"},957191:(e,t,r)=>{r.d(t,{NW:()=>n,OD:()=>c,Yb:()=>l,cL:()=>d,xW:()=>i});var s=r(214494),a=r(207737);let o=e=>({type:a.$S,payload:{experiencesMulti:e}}),i=(e,t,r)=>({type:a.V$,payload:{placementId:e,experienceId:t,status:r}}),n=e=>t=>s.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then(e=>e.resource_response?t(o(e.resource_response.data)):void 0),l=(e,t,r)=>({type:a.iY,payload:{placementId:e,experienceId:t,status:r}}),c=e=>({type:a._4,payload:{experiences:e}}),d=e=>({type:a.mR,payload:{experiences:e}})},497529:(e,t,r)=>{r.d(t,{Z:()=>n});var s=r(667294);r(332611);var a=r(123159),o=r(764990);r(957191);var i=r(780280);function n(e){let{mountedPlacements:t,completeExperience:r,dismissExperience:n,experiences:l,fetchAllExperiences:c,fetchAllExperiencesMulti:d,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:p,viewExperience:_}=(0,a.M)(),{isBot:m}=(0,i.B)(),h=e&&!m?(0,o.MQ)(l,t,e):null;return(0,s.useMemo)(()=>({completeExperience:r,dismissExperience:n,experienceForPlacement:h,fetchAllExperiences:c,fetchAllExperiencesMulti:d,fetchExperienceForPlacements:u,triggerExperimentsForPlacement:p,viewExperience:_}),[r,n,h,c,d,u,p,_])}},898781:(e,t,r)=>{r.d(t,{ZP:()=>n,oz:()=>o,q6:()=>a});var s=r(425288);let{Provider:a,Consumer:o,useHook:i}=(0,s.Z)("i18n"),n=i},767546:(e,t,r)=>{r.d(t,{Z:()=>function e(t,r,s=()=>void 0){let a=s(t,r);return void 0!==a?a:void 0===r?t:Array.isArray(t)&&Array.isArray(r)?r.reduce((t,a,o)=>(t[o]=e(t[o],r[o],s),t),[...t]):t&&"object"==typeof t&&r&&"object"==typeof r?Object.keys(r).reduce((t,a)=>(t[a]=e(t[a],r[a],s),t),{...t}):r}})},689898:(e,t,r)=>{r.d(t,{A:()=>b,J:()=>y});var s=r(667294),a=r(616550),o=r(112690),i=r(425288),n=r(883119),l=r(121151),c=r(898781),d=r(349700),u=r(966224),p=r(602517),_=r(966113),m=r(50286),h=r(134906),g=r(785893);function f({onClose:e,handleSubmit:t,errorMessage:r,currentViewParameter:i,currentComponent:f}){let R=(0,c.ZP)(),y=(0,o.Z)(),v=(0,m.HG)(),P=(0,a.TH)(),{getSingleValidator:b}=(0,p.Z)(""),x=b("passcode"),[E,A]=(0,s.useState)(!1),[C,w]=(0,s.useState)(!1),[L,S]=(0,s.useState)({value:"",error:void 0}),[k,j]=(0,s.useState)(),z=R._('Dismiss modal button', 'settings.parentalPasscodeValidateModal.dismissIconButton', 'Dismiss icon button label on the modal dialog'),M=R._('Parental passcode required', 'settings.parentalPasscodeValidateModal.heading', 'Heading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode'),T=(0,d.nk)(R._('Enter your 4-digit passcode to change this setting. Forgot it? {{ visitHelpCenter }}', 'settings.parentalPasscodeValidateModal.subHeading', 'Subheading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode. visitHelpCenter: Visit help center link'),{visitHelpCenter:(0,g.jsx)(n.xv,{inline:!0,weight:"bold",children:(0,g.jsx)(n.rU,{display:"inlineBlock",href:_.a$N,onClick:({event:e})=>{e.stopPropagation(),i&&f&&y({event_type:102,view_type:7,view_parameter:i,element:12765,component:f})},target:"blank",underline:"hover",children:R._('Visit our help center.', 'settings.parentalPasscodeModal.subHeading.learnMore', 'Text for learn more link')})},"learnMore")});(0,s.useEffect)(()=>{i&&f&&y({event_type:13,view_type:7,view_parameter:i,component:f})},[i,f,y]),(0,s.useEffect)(()=>{A(!!L.value&&!L.error)},[L]);let F=(0,s.useCallback)(()=>{y({event_type:14590,view_type:7,view_parameter:i,component:14374})},[i,y]);(0,s.useEffect)(()=>{let e=P.pathname.replace(/\/$/,"");r&&"/parental-passcode"!==e&&"/settings/account-settings"!==e&&(F(),w(!1)),j(r)},[r,F,P.pathname]);let U=e=>{let t=e.replace(/\s/g,"");if(e.length>4)return;let r=(0,h.a3)(t,x);k&&j(void 0),S({value:e,error:r})},V=()=>{C||(i&&f&&y({event_type:v?101:102,view_type:7,view_parameter:i,component:f,element:11925}),e())};return(0,g.jsx)(l.ZP,{accessibilityModalLabel:R._('Parental Passcode Validate Modal', 'settings.parentalPasscodeValidateModal.accessibilityLabel', 'Parental passcode validate modal'),align:"start",closeOnOutsideClick:!C,footer:(0,g.jsxs)(n.kC,{alignItems:"center",justifyContent:v?"end":"center",children:[v?(0,g.jsx)(n.xu,{paddingX:1,children:(0,g.jsx)(n.zx,{disabled:C,onClick:V,size:"lg",text:R._('Close', 'settings.parentalPasscodeValidateModal.closeButton', 'Close button label on the modal dialog')})}):null,(0,g.jsx)(n.xu,{flex:v?"shrink":"grow",paddingX:v?1:4,children:(0,g.jsx)(n.zx,{color:"red",disabled:!E||C,fullWidth:!v,onClick:()=>{w(!0),i&&f&&y({event_type:v?101:102,view_type:7,view_parameter:i,component:f,element:12019}),t(L.value),w(!1)},size:"lg",text:R._('Enter', 'settings.parentalPasscodeValidateModal.enterButton', 'Enter button label on the modal dialog')})})]}),heading:v?(0,g.jsxs)(n.kC,{justifyContent:"between",children:[(0,g.jsxs)(n.kC,{alignItems:"start",direction:"column",gap:{row:0,column:2},children:[(0,g.jsx)(n.X6,{accessibilityLevel:1,align:"start",size:"500",children:M}),(0,g.jsx)(n.xv,{children:T})]}),(0,g.jsx)(n.hU,{accessibilityLabel:z,bgColor:"white",icon:"cancel",iconColor:"darkGray",onClick:V,size:"lg"})]}):(0,g.jsx)(n.X6,{accessibilityLevel:"none",align:"center",size:"300",children:R._('Parental passcode', 'settings.parentalPasscodeValidateModal.headingMobile', 'Heading for modal dialog shown when user is changing a protected field and needs to validate his parental passcode')}),mobileAccessibilityCloseIconLabel:z,mobileIsFullscreen:!0,mobileIsSlideUp:!0,onDismiss:V,size:656,children:(0,g.jsx)(n.xu,{paddingX:v?6:4,paddingY:3,children:(0,g.jsxs)(n.kC,{alignItems:"center",direction:"column",justifyContent:v?"start":"center",children:[v?null:(0,g.jsx)(n.xu,{marginBottom:7,maxWidth:325,children:(0,g.jsxs)(n.kC,{alignItems:"center",direction:"column",children:[(0,g.jsx)(n.xu,{marginBottom:6,children:(0,g.jsx)(n.X6,{accessibilityLevel:2,align:"center",size:"500",children:M})}),(0,g.jsx)(n.xv,{align:"center",children:T})]})}),(0,g.jsxs)(n.xu,{marginBottom:v?0:4,position:"relative",width:"100%",children:[(0,g.jsx)(n.nv,{errorMessage:L.error||k,id:"passcode",label:R._('Enter a 4-digit code', 'settings.parentalPasscodeValidateModal.passcodeLabel', 'Label for passcode field on parental passcode validate modal'),labelDisplay:v?"visible":"hidden",name:"passcode",onChange:({value:e})=>U(e),placeholder:"XXXX",size:"lg",type:"text",value:L.value}),C?(0,g.jsx)(u.Z,{accessibilityLabel:R._('Validating Parental passcode', 'settings.parentalPasscodeModal.loadingI18nLabel', 'Accessibility label for the loading modal on Parental Passcode modal')}):null]})]})})})}let{Provider:R,useHook:y}=(0,i.Z)("ParentalPasscodeValidateModal"),v=e=>e.startsWith("/settings/messages")?3709:({"/settings/permissions":3709,"/settings/edit/mentions":3709,"/settings/privacy":3707,"/settings/account-settings":3669,"/settings/edit/email":3669,"/settings/edit/password":3669,"/parental-passcode":3860})[e],P=(e,t)=>t?14456:14374,b=({children:e})=>{let t=(0,o.Z)(),r=(0,a.TH)(),[i,n]=(0,s.useState)(!1),[l,c]=(0,s.useState)(),[d,u]=(0,s.useState)(),[p,_]=(0,s.useState)(void 0),[m,h]=(0,s.useState)([]),y=r.pathname.replace(/\/$/,""),b="/parental-passcode"===y||"/settings/account-settings"===y;(0,s.useEffect)(()=>{if(i){let e=v(y),t=P(y,b);u(e),c(t)}},[i,y,b]);let x=(0,s.useCallback)(e=>{_(void 0),m.map(t=>t(e))},[m]),E=(0,s.useCallback)(({handlePasscodeSent:e})=>{h(t=>[...t,e]),n(!0)},[]),A=(0,s.useCallback)(e=>{_(e)},[]),C=(0,s.useCallback)(()=>{u(void 0),c(void 0),h([]),_(void 0),n(!1)},[]),w=(0,s.useCallback)(e=>{e&&!b&&t({event_type:14591,view_type:7,view_parameter:d,component:14374}),C()},[C,d,t,b]),L=(0,s.useMemo)(()=>({handleSubmit:x,errorMessage:p,onClose:C,currentViewParameter:d,currentComponent:l}),[x,p,C,d,l]),S=(0,s.useMemo)(()=>({getModalProps:L,closeModal:w,isModalOpen:i,setErrorMessage:A,setModalPropsAndOpen:E}),[L,w,i,A,E]);return(0,g.jsxs)(s.Fragment,{children:[(0,g.jsx)(R,{value:S,children:e}),i?(0,g.jsx)(f,{...L}):null]})}},602517:(e,t,r)=>{r.d(t,{Z:()=>o});var s=r(898781),a=r(134906);function o(e){let t=(0,s.ZP)(),r=(0,a.aH)({message:t._('Required', 'parentalPasscodeValidators.requiredField', 'Validation error when a required field is missing')}),o=(0,a.GT)({message:t._('Please enter a valid email address', 'parentalPasscodeValidators.enterValidEmail', 'Validation error message for an improperly formated email address')}),i=(0,a.qA)({message:t._('Please only use numbers', 'parentalPasscodeValidators.enterNumbers', 'Validation error message for an improperly formated passcode field')}),n=t._('Please enter four digits', 'parentalPasscodeValidators.enterFourDigits', 'Validation error message for passcode field length'),l=(0,a.Gy)({min:4,max:4,minErrorString:n,maxErrorString:n}),c={passcode:[r,i,l],confirmPasscode:[r,i,l],backupEmail:[r,o,r=>{let s=[];return r===e&&s.push(t._('This email address is already used for this Pinterest account.', 'parentalPasscodeValidators.enterNotCurrentEmail', 'Validation error message for using email address from the current Pinterest account')),{errors:s,warnings:[]}}],confirmBackupEmail:[r,o]},d=(e,r)=>{switch(e){case"confirmPasscode":return(0,a.sG)({targetValue:r.passcode.value,message:t._('Please make sure your passcodes match', 'parentalPasscodeValidators.enterMatchingPasscodes', 'Validation error message for entering not matching passcode fields')});case"confirmBackupEmail":return(0,a.sG)({targetValue:r.backupEmail.value,message:t._('Please make sure your email addresses match', 'parentalPasscodeValidators.enterMatchingEmails', 'Validation error message for entering not matching email fields')});default:return()=>({errors:[],warnings:[]})}};return{getSingleValidator:e=>c[e],getValidators:(e,t)=>[...c[e],d(e,t)],getMatchingValidator:d}}},773285:(e,t,r)=>{r.d(t,{F:()=>o,a:()=>a});var s=r(425288);let{Provider:a,useHook:o}=(0,s.Z)("ExperimentContext")},886858:(e,t,r)=>{r.d(t,{Z:()=>i,k:()=>o});let s=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","original_referrer","source","top_level_source","top_level_source_depth"]),a=e=>!s.has(e)&&!e.startsWith("__track__");function o(e){return e.split(/([^=]+=[^=]+),/).filter(Boolean).reduce((e,t)=>{let[r,s]=t.split("=");return e[r]=JSON.parse(s),e},{})}let i=e=>e?Object.keys("object"==typeof e&&e||{}).filter(e=>"string"==typeof e).filter(a).sort().map(t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`).join(","):""},379725:(e,t,r)=>{r.d(t,{U:()=>c,b:()=>d});var s=r(214494),a=r(886858),o=r(718368),i=r(414327),n=r(523834);function l({fetchOptions:e,resource:t,retry:r}){return(c,d)=>{let{bookmark:u,paginationGroup:p,headers:_,options:m,refresh:h,schema:g}=e,f=(0,a.Z)(m);if(d().resources?.[t]?.[f]?.fetching&&!r)return Promise.resolve();let R=r?r.bookmark:u,y=R?{...m,bookmarks:[R],pagination_group:p}:m;return c((0,i.LQ)(t,m,!0)),s.Z.create(t,y).callGet(void 0,_).then(a=>{let{data:d}=a.resource_response,[p]=a.bookmarks||[];if(Array.isArray(d)&&0===d.length&&p&&p!==o.q){let s=r?r.count:0,a=s>=o.s;if(!a)return c(l({resource:t,fetchOptions:e,retry:{count:s+1,bookmark:p}}))}let{normalizedResponse:_,resourceSchema:f}=(0,n.f)({data:d,opts:{bookmark:u,options:m,schema:g},resource:t})||{normalizedResponse:null,resourceSchema:void 0};return u?(c((0,i.Dm)(t,m,a,_,f)),s.Z.fetchMoreCompleteCallback&&s.Z.fetchMoreCompleteCallback({resource:t,options:m,response:a,normalizedResponse:_,refresh:h,resourceSchema:f})):(c((0,i.Sr)(t,m,a,_,h,f)),s.Z.fetchCompleteCallback&&s.Z.fetchCompleteCallback({resource:t,options:m,response:a,normalizedResponse:_,refresh:h,resourceSchema:f})),Promise.resolve()},e=>{c((0,i.Tl)(t,m,e))})}}let c=(e,{bookmark:t,headers:r,options:s,schema:a,paginationGroup:o})=>l({resource:e,fetchOptions:{bookmark:t,headers:r,options:s,refresh:!1,schema:a,paginationGroup:o}}),d=(e,{headers:t,options:r,schema:s})=>l({resource:e,fetchOptions:{headers:t,options:r,refresh:!0,schema:s}})},338739:(e,t,r)=>{r.d(t,{AF:()=>s,KK:()=>a,aW:()=>n,cR:()=>o,se:()=>l,zP:()=>i});let s="CREATE_COMPLETE",a="FETCHING",o="FETCH_ERROR",i="FETCH_COMPLETE",n="FETCH_MORE_COMPLETE",l="RESOURCE_INVALIDATE"},414327:(e,t,r)=>{r.d(t,{Dm:()=>l,LQ:()=>o,Sr:()=>n,Tl:()=>i,XM:()=>a,jB:()=>c});var s=r(338739);function a(e,t,r,a){return{type:s.AF,payload:{resource:e,options:t,response:r,normalizedResponse:a}}}function o(e,t,r){return{type:s.KK,payload:{resource:e,options:t,isFetching:r}}}let i=(e,t,r)=>({type:s.cR,payload:{resource:e,options:t,error:r}});function n(e,t,r,a,o,i){return{type:s.zP,payload:{isRefresh:o,normalizedResponse:a,options:t,resource:e,response:r,schema:i}}}function l(e,t,r,a,o){return{type:s.aW,payload:{resource:e,options:t,response:r,normalizedResponse:a,schema:o}}}function c(e,t){return{type:s.se,payload:{resource:e,optionsOrOptionsKey:t}}}},784590:(e,t,r)=>{r.d(t,{Z:()=>p});var s=r(667294),a=r(702664),o=r(616550),i=r(886858),n=r(780280),l=r(379725),c=r(718368);let d={},u=({httpStatus:e})=>!e||e>=500;function p(e){let{enabledRouteRefresh:t,__unstableEnableSuspenseSupport:r,headers:p,name:_,noCache:m,options:h,schema:g}=e??{name:"DisabledResource",options:null},f=!e,R=(0,a.useDispatch)(),y=(0,i.Z)(h),v=(0,s.useRef)(null),P=(0,s.useRef)(),b=(0,o.k6)(),x=b&&"POP"!==b.action,E=e=>(e[_]||d)[y]||d,A=(0,a.useSelector)(({resources:e})=>E(e).nextBookmark),C=(0,a.useSelector)(({resources:e})=>E(e).data),w=(0,a.useSelector)(({resources:e})=>E(e).auxData),L=(0,a.useSelector)(({resources:e})=>E(e).error),S=(0,a.useSelector)(({resources:e})=>!!E(e).fetching),k="object"==typeof w&&"string"==typeof w?.pagination_group?w.pagination_group:void 0,j=!!L||void 0!==C,z=j&&!S&&A===c.q,M=!!(j&&t&&x&&!f),[T,F]=(0,s.useState)(M),U=(0,s.useCallback)((e,t)=>{v.current=R((0,l.U)(_,{options:h,schema:g,bookmark:e,headers:p,paginationGroup:t}))},[R,_,y,g,p]),V=()=>{v.current=R((0,l.b)(_,{options:h,schema:g,headers:p}))},{isBot:I}=(0,n.B)(),Z=()=>{if(!f&&P.current!==y){let e=void 0===P.current;P.current=y,!j&&!S||e&&L&&u(L)?U():(!I&&m||M)&&V()}};(0,s.useEffect)(()=>{r||Z()}),r&&Z();let N=(0,s.useCallback)(()=>{f||(V(),F(!0))},[f,l.b,_,y,p,F]),O=(0,s.useCallback)(()=>{!A||z||S||f||U(A,k)},[f,U,A,z,S,k]);if(v.current){if(j&&!S)v.current=null;else if(r)throw v.current}let B=(0,s.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:O,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:N}),H={auxData:w,data:C,error:L,fetchMore:O,isAtEnd:z,isFetching:S,isLoaded:j,isRefreshing:T,nextBookmark:A,refresh:N};return(0,a.shallowEqual)(H,B.current)||(T&&(B.current.data||!M)&&!(0,a.shallowEqual)(H.data,B.current.data)&&(H.isRefreshing=!1,F(!1)),B.current=H),B.current}},149230:(e,t,r)=>{r.d(t,{Z:()=>a});var s=r(954931);let a=({url:e})=>!!(e&&e.match(/^https{0,1}:\/\//)&&!(0,s.Z)(e))},829407:(e,t,r)=>{r.d(t,{Z:()=>a});var s=r(667294);let a=e=>{(0,s.useEffect)(e,[])}},824385:(e,t,r)=>{r.d(t,{Z:()=>s});let s=e=>async()=>{let{NewPassword:t}=await r.e(23468).then(r.bind(r,323468));return t(e)}},977558:(e,t,r)=>{r.d(t,{L1:()=>o,Rz:()=>l,WZ:()=>i,cI:()=>a,fe:()=>n,hu:()=>s});let s=64,a=80,o=22,i="HeaderContent",n=671,l={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},523834:(e,t,r)=>{r.d(t,{J:()=>o,f:()=>i});var s=r(782677),a=r(483025);let o=(e,{bookmark:t,options:r,schema:s})=>{let o=s||a.Z[e];return"function"==typeof o?o({resource:e,options:r,bookmark:t}):o};function i({data:e,opts:{bookmark:t,options:r,schema:a},resource:i}){let n=o(i,{bookmark:t,options:r,schema:a}),l=n&&e?(0,s.Fv)(e,n):null;return{normalizedResponse:l,resourceSchema:n}}},483025:(e,t,r)=>{r.d(t,{Z:()=>o});var s=r(819063);let a={AggregatedCommentResource:s.rm,AggregatedCommentFeedResource:s.LR,AggregatedCommentReplyResource:s.rm,AggregatedCommentReplyFeedResource:s.LR,AggregatedActivityFeedResource:s.LR,BestPinsFeedAltResource:s.LR,BoardArchiveResource:s.LR,BoardContentRecommendationResource:s.LR,BoardFeedResource:s.LR,BoardFollowingResource:s.LR,BoardInviteResource:s.sf,BoardInvitesResource:s.Ht,BoardlessPinsResource:s.LR,BoardPickerBoardsResource:{all_boards:s.LR,boards_shortlist:s.LR},BoardSectionEditResource:s._F,BoardSectionsRepinResource:s.LR,BoardSectionsResource:s.LR,BoardsFeedResource:s.LR,BoardResource:s.IY,BoardSectionResource:s._F,BoardSectionPinsResource:s.LR,BoardToolsFeedResource:s.LR,ContactRequestsResource:s.LR,ConversationsResource:s.LR,ConversationMessagesResource:s.dq,DidItCommentsResource:s.LR,DidItLikedByResource:s.Gn,DidItUserFeedResource:s.LR,HolidaySpotlightResource:s.LR,InterestFollowingResource:s.LR,InterestResource:s.cC,MoreIdeasTabsBoardsResource:s.LR,NewsHubResource:s.LR,NewsHubDetailsResource:s.LR,NewsHubSummaryResource:s.t6,NuxInterestsResource:s.LR,NuxTopicToCreatorsResource:s.Gn,PinResource:s.Cj,PinCatalogResource:s.LR,PinsFromBrandResource:s.LR,ReactionsResource:s.fE,RelatedArticlesResource:s.LR,RelatedInterestsResource:s.LR,RelatedModulesResource:s.LR,RelatedPinFeedResource:s.LR,RelatedProductFeedResource:s.LR,RelatedStreamResource:s.LR,RepinResource:s.Cj,BaseSearchResource:{results:s.LR},SearchResource:s.LR,SectionToolsFeedResource:s.LR,ShareSuggestionsTypeaheadResource:{items:s.LR},ShoppingFeedModularizedResource:s.LR,StoryFeedResource:s.LR,StoryPinTaggedProductsResource:s.LR,SuggestedCreatorFollowsResource:s.Gn,TodayArticleFeedResource:s.LR,IdeasHubTodayArticlesResource:s.LR,TodayArticleResource:s.iF,TodayTabInterestFeedResource:s.LR,TodayTabResource:s.LR,TopicFeedResource:s.LR,UnifiedCommentsResource:s.LR,UserActivityPinsResource:s.LR,UserFollowingResource:s.LR,UserRecentActivityResource:s.LR,UserHomefeedResource:s.LR,UserPinsResource:s.LR,UserSettingsResource:s.EA,UserStoryPinsFeedResource:s.LR,UserResource:s.EA,VideosFeedResource:s.LR,VisualLiveSearchResource:{results:s.LR},VisualLiveSearchProductFeedResource:s.LR,VisualSearchFlashlightUnifiedResource:s.LR,SeoTier1CandidateResource:s.LR},o=a},819063:(e,t,r)=>{r.d(t,{Cj:()=>c,EA:()=>o,Gn:()=>A,Ht:()=>E,IY:()=>l,LR:()=>w,_F:()=>p,cC:()=>y,dq:()=>m,fE:()=>u,iF:()=>R,rm:()=>i,sN:()=>C,sf:()=>v,t6:()=>x});var s=r(782677);let a=Object.freeze({aggregatedComment:"aggregatedComments",article:"articles",board:"boards",boardsection:"boardsections",contactrequest:"contactrequests",conversation:"conversations",conversationMessage:"conversationMessages",inbox:"inbox",notification:"notifications",pin:"pins",reaction:"reactions",story:"stories",todayArticle:"todayArticles",topic:"topics",triedit:"triedits",user:"users",invite:"collaboratorinvite"}),o=new s.fK.Entity(a.user),i=new s.fK.Entity(a.aggregatedComment,{user:o,tagged_users:[o]}),n=new s.fK.Entity(a.article),l=new s.fK.Entity(a.board),c=new s.fK.Entity(a.pin),d=new s.fK.Entity(a.reaction),u=new s.fK.Array(d),p=new s.fK.Entity(a.boardsection),_=new s.fK.Entity(a.conversationMessage,{sender:o,users:[o],board:l,pin:c,user:o}),m=new s.fK.Array(_),h=new s.fK.Entity(a.contactrequest),g=new s.fK.Entity(a.story),f=new s.fK.Entity(a.triedit),R=new s.fK.Entity(a.todayArticle,{article_creator_user:o,content_pin:c,content_pin_official_user:o,video_pin:c}),y=new s.fK.Entity(a.topic,{},{processStrategy:e=>({...e,slug:e.slug?e.slug:e.url_name?e.url_name.includes(":")?e.url_name.split(":")[1]:e.url_name:""})}),v=new s.fK.Entity(a.invite,{invited_by_user:o,invited_user:o,board:l},{idAttribute:e=>`${e.board.id}:${e.invited_user.id}`}),P=e=>{switch(e.type){case"aggregatedcomment":return"aggregatedComment";case"conversationMessage":return"conversationMessage";case"explorearticle":return"article";case"news":return"notification";case"interest":case"klp_featured_data":return"topic";case"userdiditdata":return"triedit";case"board_section":return"boardsection";case"todayarticle":return"todayArticle";default:return e.type}},b=new s.fK.Union({user:o,board:l,invite:v,pin:c,topic:y,triedit:f},P),x=new s.fK.Entity(a.notification,{content_items:[{content_object:b}],header_icon_objects:[b]}),E=new s.fK.Array(v),A=new s.fK.Array(o),C=new s.fK.Array(l),w=new s.fK.Array({aggregatedComment:i,article:n,board:l,boardsection:p,contactrequest:h,conversationMessage:_,notification:x,pin:c,story:g,todayArticle:R,topic:y,triedit:f,user:o},P,e=>{switch(e.type){case"collaboratorinvite":return e.board.id;case"category":return"key";default:return"id"}});g.define({objects:w})},166401:(e,t,r)=>{r.d(t,{$s:()=>l,IG:()=>c,np:()=>n});var s=r(824385),a=r(134906);let o=(e,t)=>({errors:e.reduce((e,r)=>e.concat(r(t).errors),[])}),i=async(e,t)=>{let r=await Promise.all(e.map(async e=>{let r=e(t);if(!(r instanceof Promise))return r.errors;{let e=await r;return e(t).errors}})),s=[].concat(...r);return{errors:s}},n=e=>(0,a.aH)({message:e._('Required', 'Validation error when a required field is missing', 'Validation error when a required field is missing')});function l(e,t,r){let o=[n(r),(0,a.oR)({message:r.commonStrings.asciiPasswordError}),(0,s.Z)({blackPassStr:r._('Please try using a stronger password', 'UserSettingsPage.PasswordModal.weak', 'Weak password validation error'),samePasswordStr:r._('Oops! Your password shouldn\u2019t match your username.', 'UserSettingsPage.PasswordModal.sameAsUsername', 'Validation error when the password is the same as the username'),shortPassStr:r._('Too short', 'UserSettingsPage.PasswordModal.tooShort', 'Validation error when a password is too short'),username:t})];return i(o,e)}function c(e,t,r){let s=[n(r),(0,a.sG)({targetValue:e,message:r._('Passwords don\u2019t match', ' - ', ' -- ')})];return o(s,t)}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/44927-9cba886a1cf44a13.mjs.map